if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("XHelpSearchLoggingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/business/help/async/logalacorn/",{})}),null);
__d("AdsHelpCenterSearchLogging",["AsyncRequest","Event","XHelpSearchLoggingAsyncController","goURI"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function i(){return new(c("AsyncRequest"))().setURI(c("XHelpSearchLoggingAsyncController").getURIBuilder().getURI())}function a(a){var b={alacorn_sid:a.alacorn_sid,result_id:a.result_id,result_id_1:a.result_id_1,result_id_2:a.result_id_2,result_id_3:a.result_id_3};a.results.setAttribute("data",h.length);h.push(b);var d=a.results.firstChild;c("Event").listen(d,"click",function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return j.apply(void 0,[d].concat(b))})}function j(a,b){b.preventDefault();b=0;a.parentElement!=null&&typeof a.parentElement!==void 0&&(b=a.parentElement.getAttribute("data"));i().setData({alacorn_sid:h[b].alacorn_sid,clicked_id:h[b].result_id,clicked_position:b,result_id_1:h[b].result_id_1,result_id_2:h[b].result_id_2,result_id_3:h[b].result_id_3}).send();c("goURI")(a.href)}function b(a,b,c,d,e,f){i().setData({alacorn_sid:a,clicked_id:f,clicked_position:e,result_id_1:b,result_id_2:c,result_id_3:d}).send()}g._search_results=h;g._getSearchContentAsyncRequestURI=i;g.initResultLink=a;g._onClickResult=j;g.logAlacorn=b}),98);
__d("HelpDropdownTopic.react",["cx","ix","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState;function a(a){var b=k(a.isPreClicked),d=b[0],e=b[1],f=a.generatedNewSSID?a.ssid:a.generatesearchSessionID();d!==a.isPreClicked&&e(a.isPreClicked);b=function(){a.updateTopics(a.tag,a.label,f),e(!d)};var g='{"creative": "'+a.creative+'", "creative_detail": "'+a.creativedetail+'", "ssid": "'+f+'"}';return j.jsxs("button",{className:c("joinClasses")("_8y36"+(d?" _8z3b":""),a.typographyClasses),"data-ms":g,"data-ms-clickable":!0,onFocus:a.focusInput,onClick:b,children:[d?j.jsx(c("Image.react"),{src:a.isMobile?i("1276848"):i("1276849"),className:"_8y37 _8z3a"}):j.jsx(c("Image.react"),{src:a.isMobile?i("1253149"):i("1253150"),className:"_8y37"}),a.label]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("HelpDropdownTopicsContainer.react",["cx","HelpDropdownTopic.react","joinClasses","objectValues","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=[],d=a.preClickedTopics.map(function(a){return c("objectValues")(a)}),e=function(e){var f={tagID:a.dropdownTopics.tags[e],tagName:a.dropdownTopics.topics[e]},g=d.some(function(a){for(var b=0;b<a.length-1;b++)return a[b]===f.tagID&&a[b+1]===f.tagName});b.push(i.jsx(c("HelpDropdownTopic.react"),{generatesearchSessionID:a.generatesearchSessionID,tag:a.dropdownTopics.tags[e],label:a.dropdownTopics.topics[e],isMobile:a.isMobile,updateTopics:a.updateTopics,isPreClicked:g,creative:a.dropdownTopics.creative[e],creativedetail:(g=a.dropdownTopics.creativedetail[e])!=null?g:"group_"+a.groupID+"_tag_"+a.dropdownTopics.tags[e]+"_label_"+a.dropdownTopics.topics[e],ssid:a.ssid,generatedNewSSID:a.generatedNewSSID,typographyClasses:a.typographyClasses,focusInput:a.focusInput},e))};for(var f=0;f<a.dropdownTopics.topics.length;f++)e(f);return i.jsxs("div",{className:"_8y34"+(a.isMobile?" _8z2g":""),children:[i.jsx("div",{className:c("joinClasses")("_8y38 _34g8",a.headerTypographyClasses),children:a.dropdownTopics.header}),i.jsx("div",{className:"_8y35",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("HelpDropdownContainer.react",["cx","fbt","ix","HelpDropdownTopicsContainer.react","Image.react","UserAgent","isEmpty","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");b=d("react");var l=b.useCallback,m=b.useEffect,n=b.useRef,o=b.useState;function a(a){var b=n(null),d=o(!1),e=d[0],f=d[1];d=o(!1);var g=d[0],h=d[1];d=o(!1);var p=d[0];d=d[1];var q=l(function(){f(!1),g?h(!1):null},[g]);p!==a.forceHidePopup&&(q(),d(a.forceHidePopup));m(function(){a.triggerShowPopup!==g&&(a.triggerShowPopup&&!a.forceHidePopup&&h(a.triggerShowPopup),f(!0))},[g,a.forceHidePopup,a.triggerShowPopup]);p=function(){!a.isMobile?e?q():f(!0):a.onMobileClick(),e||a.logOnClick()};m(function(){var d=function(a){var c;a=a.target;if(a instanceof Node&&((c=b.current)==null?void 0:c.contains(a)))return;q()};e&&!a.isMobile?document.addEventListener("click",d):document.removeEventListener("click",d);if(c("UserAgent").isBrowser("Mobile Safari")&&document.body!=null)if(e&&a.isMobile)document.body.style.position="fixed",document.body.style.top="-"+window.scrollY+"px";else if(!e&&a.isMobile){var f=document.body.style.top;document.body.style.position="";document.body.style.top="";window.scrollTo(0,parseInt(f||"0",10)*-1)}return function(){document.removeEventListener("click",d)}},[q,e,a.isMobile]);return k.jsxs("div",{ref:b,className:"_8yyp",children:[k.jsxs("button",{"data-ms":'{"creative": "'+((d=a.dropdownCreative)!=null?d:"drawer")+'", "creative_detail": "'+((d=a.dropdownCreativeDetail)!=null?d:"search_dropdown")+'", "ssid": "'+a.ssid+'"}',"data-ms-clickable":!0,className:c("joinClasses")("_8yyq"+(e&&!g?" _8z38":""),a.typographyClasses),onClick:p,children:[c("isEmpty")(a.dropdownTitle)?i._(/*FBT_CALL*/"Ch\u1ee7 \u0111\u1ec1 hay t\u00ecm ki\u1ebfm"/*FBT_CALL*/):a.dropdownTitle,k.jsx(c("Image.react"),{className:"_8yyr",src:j("1260133")})]}),e&&k.jsx("div",{className:"_8yys _8y39"+(g?" _8z39":"")+(a.isMobile?" _8z2g":""),children:a.dropdownTopics.map(function(b,d){return k.jsx(c("HelpDropdownTopicsContainer.react"),{generatesearchSessionID:a.generatesearchSessionID,groupID:d,dropdownTopics:b,updateTopics:a.updateTopics,preClickedTopics:a.preClickedTopics,isMobile:a.isMobile,ssid:a.ssid,generatedNewSSID:a.generatedNewSSID,typographyClasses:a.typographyClasses,headerTypographyClasses:a.headerTypographyClasses,focusInput:a.focusInput},d)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Biz1SearchTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:Biz1SearchLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:Biz1SearchLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:Biz1SearchLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppliedFilterIds=function(a){this.$1.applied_filter_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setHTTPReferrerSection=function(a){this.$1.http_referrer_section=a;return this};c.setSearchQuery=function(a){this.$1.search_query=a;return this};c.setSearchResultArrayCmsIds=function(a){this.$1.search_result_array_cms_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSearchSessionID=function(a){this.$1.search_session_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};return a}();c={applied_filter_ids:!0,http_referrer_section:!0,search_query:!0,search_result_array_cms_ids:!0,search_session_id:!0,session_id:!0};f["default"]=a}),66);
__d("BizLogging",["trim"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=h(a);return b===null||b.length<1?null:h(a)[0]}function h(a){a===void 0&&(a=null);if(a===null)return null;a=a.getPath();return a===""||a===null||!i(a)?null:c("trim")(a,"/").split("/").slice(1)}function i(a){return a.startsWith("/business/")||a.startsWith("/blueprint/")}g.getSiteSection=a;g.getSubpathArray=h;g.isBizPath=i}),98);
__d("HelpTypeaheadSearchLoggingHelper",["Biz1SearchTypedLogger","BizLogging","FB4BSessionTracker","URI","requireDeferred"],(function(a,b,c,d,e,f,g){var h=c("requireDeferred")("HelpCenterFalcoEvent").__setRef("HelpTypeaheadSearchLoggingHelper"),i={};function a(a,b,c,d){a=i[a]?i[a]:i[a]={};a.search_query=b.search_query;a.search_session_id=b.search_session_id;a.faq_ids=b.faq_ids;a.minChar=c;a.waitInterval=d;a.timeoutID=null;a.providerName=b.providerName}function b(a){var b=function(b){var c=i[b],d=a.search_query!==c.search_query;c.search_query=a.search_query;a.search_session_id&&(c.search_session_id=a.search_session_id);c.faq_ids=a.faq_ids;c.timeoutID&&d&&(window.clearTimeout(c.timeoutID),c.timeoutID=null);a.search_query&&a.search_query.length>c.minChar&&d&&(c.timeoutID=window.setTimeout(function(){return j(b)},c.waitInterval))};for(var c in i)b(c)}function e(){for(var a in i){var b=i[a];b.timeoutID&&j(a)}}function j(a){var b=i[a];window.clearTimeout(b.timeoutID);b.timeoutID=null;switch(a){case"fb4b":new(c("Biz1SearchTypedLogger"))().setSearchQuery(b.search_query).setSearchSessionID(b.search_session_id).setSearchResultArrayCmsIds(b.faq_ids).setAppliedFilterIds(["help-center"]).setSessionID(d("FB4BSessionTracker").getSessionID()).setHTTPReferrerSection(d("BizLogging").getSiteSection(new(c("URI"))(d("FB4BSessionTracker").getReferrerURI()))).logVital();break;default:h.onReady(function(a){a=a.log;return a(function(){return{context:"help_center_search_typeahead",event:"search_entry_attempt",num_search_results:b.faq_ids.length,provider_name:b.providerName,force_search_query:b.search_query,search_result_ids:b.faq_ids}})})}}g._loggingModulesData=i;g.setLoggingData=a;g.log=b;g.logNow=e;g._log=j}),98);
__d("HelpDualTypeaheadView.react",["cx","fbt","CurrentUser","HelpTypeaheadSearchLoggingHelper","TypeaheadViewItem","TypeaheadViewPropTypes","WorkModeConfig","XUICard.react","createReactClass_DEPRECATED","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.$1=function(a,b){var c=a===this.props.highlightedEntry,d=k;a.getType().startsWith("more")&&(d=l);return j.jsx(d,{entry:a,highlighted:c,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,index:b+1,contentTypography:this.props.contentTypography},a.getUniqueID()+a.getType())};e.render=function(){var a=this,b=null,e=this.props.entries.filter(function(a){return a.getType()==="faq"||a.getType()==="moreFaq"}),f=e.filter(function(a){return a.getUniqueID()>1}).map(function(a){return a.getUniqueID()});d("HelpTypeaheadSearchLoggingHelper").log({providerName:null,search_query:this.props.queryString,faq_ids:f});if(e.length){f=null;(c("CurrentUser").isWorkUser()||c("WorkModeConfig").is_worksite===!0)&&(f=j.jsx("li",{className:"_4e4y",children:i._(/*FBT_CALL*/"C\u00c2U TR\u1ea2 L\u1edcI V\u1ec0 WORKPLACE"/*FBT_CALL*/)}));b=j.jsxs("span",{children:[f,j.jsx("span",{children:e.map(function(b,c){return a.$1(b,c)})})]})}f=null;b===null?f=j.jsx("ul",{id:this.props.controlleeID,role:this.props.role,children:j.jsx("li",{children:j.jsx("div",{className:"_2ph_",children:i._(/*FBT_CALL*/"Ch\u00fang t\u00f4i kh\u00f4ng t\u00ecm th\u1ea5y k\u1ebft qu\u1ea3 n\u00e0o cho: {query}"/*FBT_CALL*/,[i._param("query",j.jsx("b",{children:this.props.queryString}))])})})}):f=j.jsx("ul",{id:this.props.controlleeID,role:this.props.role,children:b});return j.jsx(c("XUICard.react"),{className:"_3nbe"+(this.props.hasFilters?" _1oi3":""),children:f})};return b}(j.Component);a.propTypes=babelHelpers["extends"]({},c("TypeaheadViewPropTypes"),{hasFilters:c("prop-types").bool.isRequired,queryString:c("prop-types").string.isRequired,contentTypography:c("prop-types").string.isRequired});a.defaultProps={role:"listbox"};var k=c("createReactClass_DEPRECATED")({displayName:"HelpDualTypeaheadViewItem",mixins:[d("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},d("TypeaheadViewItem").propTypes,{index:c("prop-types").number.isRequired,contentTypography:c("prop-types").string.isRequired}),render:function(){var a=c("CurrentUser").isWorkUser()||c("WorkModeConfig").is_worksite===!0,b=this.props.entry,d="_3nbf"+(this.props.highlighted?" _3nbg":"");d+=" type_"+this.props.entry.getType();var e=null;b.getSubtitle()&&(e=j.jsx("p",{className:"_3nbh",children:b.getSubtitle()}));var f=a?"_3nbi":c("joinClasses")("_3nbi _9f_v",this.props.contentTypography);return j.jsxs("li",{className:d,"aria-label":b.getTitle(),"aria-selected":this.props.highlighted,onClick:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,title:b.getTitle(),children:[a?j.jsx("span",{className:"_35ez"}):null,j.jsxs("span",{className:f,children:[j.jsx("p",{className:"_3nbj"+(e?"":" _3nbk"),children:b.getTitle()}),e]})]})}}),l=c("createReactClass_DEPRECATED")({displayName:"HelpDualTypeaheadSeeMoreViewItem",mixins:[d("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},d("TypeaheadViewItem").propTypes,{index:c("prop-types").number.isRequired,contentTypography:c("prop-types").string.isRequired}),render:function(){var a="_3nbl"+(this.props.highlighted?" _3nbm":""),b;if(this.props.entry.getType()==="moreFaq")if(c("CurrentUser").isWorkUser()||c("WorkModeConfig").is_worksite===!0)b=i._(/*FBT_CALL*/"Xem th\u00eam c\u00e2u tr\u1ea3 l\u1eddi v\u1ec1 Workplace"/*FBT_CALL*/);else return null;return j.jsx("li",{"aria-label":i._(/*FBT_CALL*/"Xem th\u00eam k\u1ebft qu\u1ea3"/*FBT_CALL*/),"aria-selected":this.props.highlighted,className:a,onClick:this._onSelect,"data-ms":'{"creative": "see_more", "creative_detail": "position_"'+this.props.index+"}","data-ms-clickable":!0,onMouseEnter:this._onHighlight,role:this.props.role,title:i._(/*FBT_CALL*/"Xem th\u00eam k\u1ebft qu\u1ea3"/*FBT_CALL*/),children:j.jsx("span",{children:b})})}});g["default"]=a}),98);
__d("XGBMBHCDualTypeaheadAutocompleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/business/async/bhc-autocomplete-controller/",{alacorn_sid:{type:"String"}})}),null);
__d("XHelpDualTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/help/duo_typeahead/",{value:{type:"String"},help_platform_path:{type:"String",required:!0},should_include_community_results:{type:"Bool",defaultValue:!1},alacorn_sid:{type:"String"},ad_account_id:{type:"Int"},pathname:{type:"String"}})}),null);
__d("HelpDualTypeahead.react",["cx","fbt","ix","AbstractTypeahead.react","AdsHelpCenterSearchLogging","AdsHelpTrayUtils","Arbiter","Event","Form","HelpDropdownContainer.react","HelpDualTypeaheadView.react","HelpTypeaheadSearchLoggingHelper","Image.react","PageTransitions","Random","SearchableEntry","Style","URI","UniversalMicroSiteTrackingController","WebAsyncSearchSource","XGBMBHCDualTypeaheadAutocompleteController","XHelpDualTypeaheadController","goURI","isEmpty","joinClasses","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react"),l=c("requireDeferred")("HelpCommunityU2uFalcoEvent").__setRef("HelpDualTypeahead.react");function m(){var a="",b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var c=0;c<15;c++)a+=b.charAt(Math.floor(d("Random").random()*b.length));return a}var n=930,o=30;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.state={focused:!1,queryString:f.props.queryString,typeaheadVisible:!1,searchResults:[],searchSource:f.$1(),shouldTriggerPopup:!1,shouldShowMobilePopup:!1,activeTopicIDs:f.props.initialTags,activeLabels:f.props.initialLabels,generatedNewSSID:f.props.searchSessionID==null,ssid:(b=f.props.searchSessionID)!=null?b:m()},f.$2=function(a){a===void 0&&(a="search_bar");var b=d("UniversalMicroSiteTrackingController").getLoggerWithCommonFields();b&&b.updateExtraData({creative_detail:a}).setSearchSessionID(f.state.ssid).setSite("fb4b").setEventType("search_dropdown").log()},f.$11=function(){f.setState({focused:!0})},f.$9=function(){f.setState({activeTopicIDs:[],activeLabels:[],queryString:""})},f.$10=function(a,b,c){f.setState(function(d){var e=d.activeTopicIDs.indexOf(a),f=d.activeLabels.indexOf(b),g=e>-1&&f>-1;g?(d.activeTopicIDs.splice(e,1),d.activeLabels.splice(f,1)):(d.activeTopicIDs.push(a),d.activeLabels.push(b),document.getElementsByClassName("_58al")[0].focus());return{ssid:c,generatedNewSSID:!0,activeLabels:d.activeLabels,activeTopicIDs:d.activeTopicIDs}})},f.$5=function(a){f.state.queryString===""&&!c("isEmpty")(f.state.activeTopicIDs)&&!c("isEmpty")(f.state.activeLabels)&&f.$12(f.state.activeTopicIDs.slice(-1)[0],f.state.activeLabels.slice(-1)[0],f.state.ssid)},f.$7=function(a){f.setState({typeaheadVisible:!1}),a.preventDefault(),f.$13(),f.$3(a)},f.$3=function(a){a.type==="keydown"&&f.$13();if(f.state.queryString.trim()!=""||!c("isEmpty")(f.state.activeTopicIDs))if(f.props.onSubmit)f.props.onSubmit(a);else{c("Arbiter").inform("HelpDualTypeahead/submit",{link:a.target,logdetail:"typeahead_suggestions"});a=f.$14();f.props.disableAsyncSearch?c("goURI")(a):f.$15(a)}},f.$8=function(a){var b=[],d=[],e=!1;a.forEach(function(a){a.getType()==="faq"?(b.push(a),f.state.searchResults.push(a)):a.getType()==="community"?d.push(a):a.getType()==="empty"&&(e=!0)});if(e)return a;b.length>=f.props.faqCount&&d.length>=f.props.communityCount?(b=b.slice(0,f.props.faqCount),d=d.slice(0,f.props.communityCount)):b.length>=f.props.faqCount?b=b.slice(0,f.props.faqCount+f.props.communityCount-d.length):d.length>=f.props.communityCount&&(d=d.slice(0,f.props.faqCount+f.props.communityCount-b.length));var g=[];a=[function(){b.forEach(function(a){return g.push(a)}),f.state.queryString.length&&b.length&&g.push(new(c("SearchableEntry"))({uniqueID:1,type:"moreFaq",title:"x"}))},function(){d.forEach(function(a){return g.push(a)}),f.state.queryString.length&&d.length&&g.push(new(c("SearchableEntry"))({uniqueID:2,type:"moreCommunity",title:"x"}))}];f.props.faqsFirst||a.reverse();a.forEach(function(a){return a.apply(babelHelpers.assertThisInitialized(f),[])});return g},f.$6=function(a){if(f.props.onSelectAttempt)f.props.onSelectAttempt(a);else{var b=a.getURI(),e={helpPlatformPath:f.props.helpPlatformPath,faq_id:a.getUniqueID(),helpref:"typeahead_suggestions",query:f.state.queryString};d("HelpTypeaheadSearchLoggingHelper").logNow();if(a.getType()=="faq"){var g=a.getOrder()+1-(f.props.faqsFirst?0:1);b=f.props.keepSearchResultURI?new(c("URI"))(b).addQueryData({helpref:"typeahead_suggestions",sr:g}):new(c("URI"))(f.props.helpPlatformPath+a.getUniqueID()).addQueryData({helpref:"typeahead_suggestions",sr:g,query:f.state.queryString});var h=d("UniversalMicroSiteTrackingController").getLoggerWithCommonFields();h&&h.setClickCreativePath(["search_typeahead"]).updateExtraData({creative_detail:"position_"+g,label:a.getTitle(),placement:b.getPath()}).setClickFromContextMenu(!1).setDestination(String(b)).setSearchSessionID(f.state.ssid).setSite("fb4b").setEventType("click").log();d("AdsHelpCenterSearchLogging").logAlacorn(f.props.searchSessionID,f.state.searchResults[0]?f.state.searchResults[0].getUniqueID():"",f.state.searchResults[1]?f.state.searchResults[1].getUniqueID():"",f.state.searchResults[2]?f.state.searchResults[2].getUniqueID():"",g,a.getUniqueID());f.props.disableAsyncSearch?c("goURI")(b):f.$15(b)}else a.getType()=="community"?(l.onReady(function(b){b=b.log;return b(function(){return{subroute:"click_into_question",questionid:a.getUniqueID(),referer:"typeahead",query:f.state.queryString,rank:a.getOrder()+1-(f.props.faqsFirst?1:0)+""}})}),d("Form").post(b,e,null)):a.getType()==="moreFaq"?f.props.disableAsyncSearch?d("Form").post(f.$16(),e,null):f.$15(f.$16()):a.getType()==="moreCommunity"&&(b=f.$17(),b.setQueryData({query:f.state.queryString}),c("goURI")(b,!1,!1))}},e)||babelHelpers.assertThisInitialized(f)}var e=b.prototype;e.$1=function(){var a=this.props.typeaheadSource==="business help center"?{uri:c("XGBMBHCDualTypeaheadAutocompleteController").getURIBuilder().setString("alacorn_sid",this.props.searchSessionID).getURI()}:{uri:c("XHelpDualTypeaheadController").getURIBuilder().setString("help_platform_path",this.props.helpPlatformPath).setBool("should_include_community_results",this.props.shouldIncludeCommunityResults).setString("alacorn_sid",this.props.searchSessionID).setString("pathname",d("AdsHelpTrayUtils").getReleventArticlesProcessedURL()).getURI()};return this.props.showTypeahead?new(c("WebAsyncSearchSource"))({queryRequests:[a],bootstrapRequests:[a],getAllForEmptyQuery:!0}):new(c("WebAsyncSearchSource"))({})};e.render=function(){var a=this,b=this.props.dropdownTopics.length==0,e=this.props.theme==="business-help-center",f=null,g=null;this.props.useAsTextInput==!1?f=e?k.jsx("button",{"data-ms":'{"creative": "search", "creative_detail": "search_button", "ssid": "'+this.state.ssid+'"}',"data-ms-clickable":!0,id:"hc_search_button",type:"submit",className:c("joinClasses")("_8y2m"+(this.state.queryString.trim()!=""||!c("isEmpty")(this.state.activeTopicIDs)?" _8z37":"")+(b?" _9a0q":""),this.props.typographyClasses),onClick:this.$3,children:i._(/*FBT_CALL*/"T\u00ccM KI\u1ebeM"/*FBT_CALL*/)}):k.jsxs("div",{"data-ms":'{"creative": "search", "creative_detail": "search_button"}',"data-ms-clickable":!0,className:(this.state.focused?"_3nbb":"")+(this.state.focused?" _1tv":""),children:[k.jsx("button",{id:"hc_search_button",type:"submit",className:"_3nba _1tw",onClick:this.$3}),k.jsx("i",{className:"_3nbc _1tx",id:"hc_search_i",onClick:this.$3,role:"button",tabIndex:"0"})]}):g=k.jsx("input",{type:"hidden",id:"u2u_question_title",value:this.state.queryString});var h=this.props.isMobile,l=k.jsx("div",{"data-ms":'{"creative": "search", "creative_detail": "search_icon", "ssid": "'+this.state.ssid+'"}',"data-ms-clickable":!0,className:"_8y2x _8z2e"+(h?" _8zw0":"")+(this.state.queryString.trim()!=""||!c("isEmpty")(this.state.activeTopicIDs)?" _8_fz":""),children:this.state.shouldShowMobilePopup?k.jsx(c("Image.react"),{onClick:this.$3,src:j("550576")}):k.jsx(c("Image.react"),{onClick:this.$3,src:j("1245299")})}),p=k.jsx(c("Image.react"),{className:"_8z4e",src:j("507537")}),q=e&&!h?n+(this.props.buttonPadding-o)+"px":null,r=e?this.$4(this.state.activeLabels,this.state.activeTopicIDs):[],s="_3nb9 _1tu"+(e?" _8y2-":"")+(this.state.shouldShowMobilePopup?" _8z2g":"");s=k.jsx(c("AbstractTypeahead.react"),{offsetY:this.props.offsetY,ref:"typeahead",className:(this.state.focused||this.state.typeaheadVisible?"_3nb5":"")+" _3nb6"+(e?" _8y2l":"")+(this.state.shouldShowMobilePopup?" _8z2g":""),selectTextOnClick:!1,showEntriesOnFocus:!0,queryString:this.state.queryString,placeholder:this.state.focused||r.length!==0?"":this.props.placeholder,inputClassName:e?c("joinClasses")(s,this.props.contentTypographyClasses):s,inputID:"hc_search_input",onChange:function(b){var c=b.target.value;a.setState(function(a){var b=a.ssid;a.generatedNewSSID||(b=m());return{ssid:b,generatedNewSSID:!0,queryString:c,typeaheadVisible:!0,shouldTriggerPopup:h||c===""}})},onBackspace:this.$5,onSelectAttempt:this.$6,onReturn:this.$3,onEnterWithoutSelection:this.$7,onTypeaheadVisibilityChanged:function(b){if(b){var c=d("UniversalMicroSiteTrackingController").getLoggerWithCommonFields();c&&c.updateExtraData({creative_detail:"typeahead_visible"}).setClickCreativePath(["drawer"]).setSearchSessionID(a.state.ssid).setSite("fb4b").setEventType("dropdown_open").log()}a.setState({typeaheadVisible:b})},onClick:function(){a.state.queryString===""&&a.state.shouldTriggerPopup&&a.$2()},onFocus:function(b){a.setState(function(a){return{focused:!0,shouldTriggerPopup:!h&&a.queryString==="",shouldShowMobilePopup:h&&e}}),h&&(b.preventDefaults,window.scrollBy({top:top,left:0,behavior:"smooth"}),document.addEventListener("touchmove",function(a){a.preventDefault()}))},onBlur:function(){return a.setState({focused:!1,shouldTriggerPopup:h})},presenter:{ViewRenderer:c("HelpDualTypeaheadView.react"),useLayer:!0,sortEntries:this.$8,extraRendererProps:{hasFilters:r.length!==0,queryString:this.state.queryString,typeaheadVisible:this.state.typeaheadVisible,contentTypography:this.props.contentTypographyClasses}},searchSource:this.state.searchSource,"data-testid":void 0});var t=k.jsxs("div",{className:"_8z4f"+(this.state.shouldShowMobilePopup?" _8z2g":""),children:[k.jsx("div",{className:"_8z2h",children:i._(/*FBT_CALL*/"T\u00ecm ki\u1ebfm trong Trung t\u00e2m tr\u1ee3 gi\u00fap doanh nghi\u1ec7p"/*FBT_CALL*/)}),k.jsx("button",{className:"_8z2i",onClick:function(){a.setState({shouldShowMobilePopup:!1,shouldTriggerPopup:!1})},children:k.jsx(c("Image.react"),{src:j("552146")})})]}),u=[];this.state.activeTopicIDs.map(function(b,c){u.push({tagID:b,tagName:a.state.activeLabels[c]})});return k.jsxs("div",{className:(e?"_8y2y":"")+" _3nb7"+(this.state.typeaheadVisible?" _3nb8":"")+(this.state.shouldShowMobilePopup?" _8z2j":""),style:{width:q},children:[h&&e?t:null,k.jsxs("div",{className:this.state.shouldShowMobilePopup?"_8z2k":"",children:[k.jsxs("div",{className:(e?"_8y2z":"")+(this.state.shouldShowMobilePopup?" _8z2g":""),children:[e?l:null,k.jsxs("div",{className:"_8z2l"+(r.length!=0?" _9f_u":""),children:[r,s]}),e&&(!c("isEmpty")(this.state.activeTopicIDs)||this.state.queryString!==""&&(!this.props.showTypeahead||this.props.isMobile))?k.jsx("button",{"data-ms":'{"creative": "link", "creative_detail": "clear_all", "ssid": "'+this.state.ssid+'"}',"data-ms-clickable":!0,className:c("joinClasses")("_8z2m",this.props.typographyClasses),onClick:this.$9,children:i._(/*FBT_CALL*/"x\u00f3a t\u1ea5t c\u1ea3"/*FBT_CALL*/)}):null]}),f,g,e&&!h?p:null,k.jsx("input",{type:"hidden",name:"query",value:this.state.queryString}),e&&!b?k.jsx(c("HelpDropdownContainer.react"),{triggerShowPopup:!h&&this.state.shouldTriggerPopup||h&&this.state.shouldShowMobilePopup,forceHidePopup:!h&&this.state.queryString!==""||h&&!this.state.shouldShowMobilePopup,dropdownTopics:this.props.dropdownTopics,updateTopics:this.$10,preClickedTopics:u,isMobile:h,onMobileClick:function(){a.setState({shouldShowMobilePopup:h})},dropdownCreative:this.props.dropdownCreative,dropdownCreativeDetail:this.props.dropdownCreativeDetail,dropdownTitle:this.props.dropdownTitle,logOnClick:this.$2,ssid:this.state.ssid,generatedNewSSID:this.state.generatedNewSSID,generatesearchSessionID:m,typographyClasses:this.props.typographyClasses,headerTypographyClasses:this.props.headerTypographyClasses,focusInput:this.$11},h?this.state.activeLabels.length:null):null]})]})};e.$4=function(a,b){var d=this,e=this.state.generatedNewSSID?this.state.ssid:m();return a.map(function(a,f){return k.jsxs("button",{"data-ms":'{"ssid": "'+e+'", "creative_detail": "tag_'+b[f]+"_label_"+a+'", "creative": "search_tag"}',"data-ms-clickable":!0,className:c("joinClasses")("_8z2n",d.props.typographyClasses),onClick:function(){return d.$12(b[f],a,e)},children:[k.jsx(c("Image.react"),{src:j("478230"),className:"_8z2o"}),k.jsx("span",{className:"_8z4g",children:a})]},f)})};e.$12=function(a,b,c){this.setState(function(d){var e=d.activeTopicIDs.indexOf(a),f=d.activeLabels.indexOf(b),g=e>-1&&f>-1;g&&(d.activeTopicIDs.splice(e,1),d.activeLabels.splice(f,1));return{ssid:c,generatedNewSSID:!0,activeLabels:d.activeLabels,activeTopicIDs:d.activeTopicIDs}})};e.componentDidMount=function(){var a=this;this.props.theme==="business-help-center"&&(c("Arbiter").inform("HelpDualTypeahead/searchBarLoaded",{}),c("Arbiter").subscribe("HelpDualTypeahead/openMobileMenu",function(){a.setState({shouldShowMobilePopup:!0})}))};e.componentDidUpdate=function(){if(!this.props.isMobile&&this.props.theme==="business-help-center"){var a=document.getElementsByClassName("_5_jm")[0],b=document.getElementsByClassName("_8zem")[0];if(a&&b){var d=c("Style").get(b,"margin-top"),e=Number(d.slice(0,-2));d=d.slice(-2);a=c("Style").get(a,"height");var f=Number(a.slice(0,-2)),g=a.slice(-2);e!==f&&d===g&&(b.style.marginTop=a)}}if(this.props.isMobile){e=document.getElementsByClassName("_8z2k");e.length===1&&c("Event").listen(e[0],"scroll",function(){document.getElementsByClassName("_58al")[0].blur()})}};e.$13=function(){var a=new(c("URI"))(window.location.href).getPath(),b=d("UniversalMicroSiteTrackingController").getLoggerWithCommonFields();b&&b.setClickCreativePath(["enter_keystroke"]).updateExtraData({creative_detail:"search_bar_enter",placement:a}).setQuery(this.state.queryString).setSearchSessionID(this.state.ssid).setClickFromContextMenu(!1).setSite("fb4b").setEventType("enter_keystroke").log()};e.$15=function(a){c("PageTransitions").go(a)};e.$16=function(){var a=this.$18(this.state.activeTopicIDs,this.state.activeLabels),b=a.IDs;a=a.labels;var d=this.state.queryString.trim();if(b.length===0&&d==="")return new(c("URI"))(this.props.helpPlatformPath+"search/");else if(b.length>0&&d==="")return new(c("URI"))(this.props.helpPlatformPath+"search/").addQueryData({tags:b,label:a,with_filters:!0,ssid:this.state.ssid});else if(b.length===0&&d!=="")return new(c("URI"))(this.props.helpPlatformPath+"search/").addQueryData({query:d,ssid:this.state.ssid});return new(c("URI"))(this.props.helpPlatformPath+"search/").addQueryData({query:d,tags:b,label:a,with_filters:!0,ssid:this.state.ssid})};e.$18=function(a,b){var c=[],d=[];for(var e=0;e<a.length;++e)for(var f=0;f<this.props.dropdownTopics.length;++f)if(this.props.dropdownTopics[f].tags.includes(a[e])){c.push(String(a[e])+"_"+String(f));d.push(b[e]);break}return{IDs:c,labels:d}};e.$17=function(){return new(c("URI"))(this.props.helpPlatformPath+"community/search/").addQueryData({query:this.state.queryString})};e.$14=function(){return this.props.faqsFirst?this.$16():this.$17()};return b}(k.Component);a.defaultProps={communityCount:2,faqCount:4,faqsFirst:!0,queryString:"",disableAsyncSearch:!1,theme:"none",buttonPadding:30,typeaheadSource:"workplace",keepSearchResultURI:!1,offsetY:0};g["default"]=a}),98);